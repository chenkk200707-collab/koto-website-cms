{{ define "main" }}
<style>
    /* === æ ¸å¿ƒé…è‰² === */
    :root {
        --primary: #C41E3A;  /* æ‚¨çš„å“ç‰Œçº¢ */
        --secondary: #2C3E50; /* æ·±è“è‰² */
        --bg: #FFFFFF;
        --light-gray: #F5F7FA;
    }

    /* === Hero åŒºåŸŸ === */
    .hero-section {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 80px 10%;
        background-color: var(--light-gray);
        min-height: 500px;
    }
    .hero-text { flex: 1; padding-right: 50px; }
    .hero-text h1 { 
        font-size: 3.5rem; 
        color: var(--secondary); 
        margin-bottom: 20px; 
        line-height: 1.1; 
        font-weight: 800;
    }
    .hero-image img { width: 550px; max-width: 100%; height: auto; }

    /* æŒ‰é’® */
    .cta-button {
        background-color: var(--primary);
        color: white;
        padding: 18px 40px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: bold;
        font-size: 1.1rem;
        display: inline-block;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 15px rgba(196, 30, 58, 0.3);
    }
    .cta-button:hover { 
        transform: translateY(-3px); 
        box-shadow: 0 8px 25px rgba(196, 30, 58, 0.4);
    }

    /* === æœåŠ¡å¡ç‰‡ === */
    .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 40px;
        padding: 80px 10%;
        background: white;
    }
    .service-card {
        padding: 30px;
        border-radius: 20px;
        background: white;
        border: 1px solid #f0f0f0;
        text-align: center;
        transition: 0.3s;
    }
    .service-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.08);
        border-color: transparent;
    }
    .service-card img { width: 70px; margin-bottom: 20px; }
    
    /* â–¼â–¼â–¼ ä¿®æ”¹ç‚¹åœ¨æ­¤ â–¼â–¼â–¼ */
    /* å°†åŸæœ¬çš„ var(--secondary) æ”¹ä¸º var(--primary) */
    .service-card h3 { color: var(--primary); margin-bottom: 10px; }
    /* â–²â–²â–² ä¿®æ”¹ç»“æŸ â–²â–²â–² */

    .service-card p { color: #666; font-size: 0.9rem; }

    /* === ğŸ†• æ–°å¢ï¼šæ¨ªå‘æ»‘åŠ¨åŒºåŸŸæ ·å¼ === */
    .news-slider-container {
        display: flex;
        overflow-x: auto; 
        gap: 30px;
        padding: 10px 5px 30px 5px; 
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
    }
    
    .news-slider-container::-webkit-scrollbar { height: 8px; }
    .news-slider-container::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
    .news-slider-container::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
    .news-slider-container::-webkit-scrollbar-thumb:hover { background: #999; }

    .news-card-slide {
        min-width: 320px; 
        max-width: 320px;
        flex: 0 0 auto;
        scroll-snap-align: start;
        background: white; 
        border-radius: 12px; 
        overflow: hidden; 
        box-shadow: 0 4px 20px rgba(0,0,0,0.05); 
        transition: transform 0.3s ease;
    }
    .news-card-slide:hover { transform: translateY(-5px); }

    @media (max-width: 768px) {
        .hero-section { flex-direction: column; padding: 60px 20px; text-align: center; }
        .hero-text { padding-right: 0; margin-bottom: 40px; }
        .hero-text h1 { font-size: 2.5rem; }
        .services-grid { padding: 60px 20px; }
        .news-card-slide { min-width: 280px; max-width: 280px; }
    }
</style>

<section class="hero-section">
    <div class="hero-text">
        <h1>Expert Guidance for<br>Your Canadian Journey</h1>
        <p style="font-size: 1.2rem; color: #555; margin-bottom: 40px; max-width: 500px;">
            åŸºäºå®˜æ–¹ CRS æ ‡å‡†çš„ç²¾å‡†è§„åˆ’ã€‚ä»ç•™å­¦åˆ°ç§»æ°‘ï¼Œæˆ‘ä»¬ä¸ºæ‚¨å®šåˆ¶æœ€ä¼˜è·¯å¾„ã€‚
        </p>
        <a href="/assessment.html" class="cta-button">å¼€å§‹å…è´¹è¯„ä¼° &rarr;</a>
    </div>
    <div class="hero-image">
        <img src="/images/hero.png" alt="Consultant">
    </div>
</section>

<h2 style="text-align: center; margin-top: 60px; color: var(--primary);">æˆ‘ä»¬çš„æ ¸å¿ƒæœåŠ¡</h2>

<section class="services-grid">
    <div class="service-card">
        <img src="/images/icon-english.png" alt="English" style="width:60px; margin-bottom:15px;">
        <h3>é›…æ€/æ€åŸ¹æåˆ†</h3>
        <p>åå¸ˆä¸€å¯¹ä¸€ç²¾å‡†æŒ‡å¯¼ï¼Œé’ˆå¯¹æ€§çªç ´å£è¯­å†™ä½œç“¶é¢ˆï¼ŒåŠ©æ‚¨å¿«é€Ÿè¾¾åˆ°ç§»æ°‘åˆ†æ•°è¦æ±‚ã€‚</p>
    </div>
    <div class="service-card">
        <img src="/images/icon-study.png" alt="Study" style="width:60px; margin-bottom:15px;">
        <h3>ç¾åŠ ç•™å­¦è§„åˆ’</h3>
        <p>ä»å°å­¦åˆ°åšå£«çš„å…¨é¾„æ®µç”³è¯·æœåŠ¡ã€‚é¡¶å°–åæ ¡æ–‡ä¹¦å®šåˆ¶ï¼Œå­¦ç­¾åŠç†åŠæ‹’ç­¾ç¿»æ¡ˆã€‚</p>
    </div>
    <div class="service-card">
        <img src="/images/icon-ca.png" alt="Canada" style="width:60px; margin-bottom:15px;">
        <h3>åŠ æ‹¿å¤§ç§»æ°‘</h3>
        <p>å¿«é€Ÿé€šé“ (Express Entry)ã€çœæå (PNP)ã€å®¶åº­å›¢èšåŠé…å¶å·¥ç­¾å…¨ç±»åˆ«åŠç†ã€‚</p>
    </div>
    <div class="service-card">
        <img src="/images/icon-us.png" alt="USA" style="width:60px; margin-bottom:15px;">
        <h3>ç¾å›½ç§»æ°‘</h3>
        <p>æ°å‡ºäººæ‰ (EB-1)ã€å›½å®¶åˆ©ç›Šè±å… (NIW) åŠè·¨å›½é«˜ç®¡ç§»æ°‘ (L1/EB-1C) ä¸“ä¸šå’¨è¯¢ã€‚</p>
    </div>
</section>

<section style="padding: 60px 20px; background: #fafafa;">
    <div style="max-width: 1200px; margin: 0 auto;"> 
        <h2 style="color: var(--secondary); margin-bottom: 30px; text-align: left; padding-left: 5px;">æœ€æ–°ç§»æ°‘èµ„è®¯</h2>
        
        <div class="news-slider-container">
            {{ range .Site.RegularPages }}
            
            {{/* Image Fetching Logic */}}
            {{ $imgName := .Params.image }}
            {{ $finalImg := "" }}
            {{ if $imgName }}
                {{ $res := .Resources.GetMatch $imgName }}
                {{ if $res }}{{ $finalImg = $res.RelPermalink }}{{ end }}
            {{ end }}
            {{ if not $finalImg }}
                {{ if $imgName }}
                     {{ if or (hasPrefix $imgName "http") (hasPrefix $imgName "/") }}{{ $finalImg = $imgName }}
                     {{ else }}{{ $finalImg = printf "/images/%s" $imgName }}{{ end }}
                {{ else }}
                    {{ $imgMatches := findRE `(?i)src="([^"]+)"` .Content 1 }}
                    {{ if gt (len $imgMatches) 0 }}
                        {{ $finalImg = index $imgMatches 0 | replaceRE `src="` "" | replaceRE `"` "" }}
                    {{ end }}
                {{ end }}
            {{ end }}
            {{ if not $finalImg }}{{ $finalImg = "/images/logo-koto.png" }}{{ end }}

            <div class="news-card-slide">
                <a href="{{ .Permalink }}" style="display: block; overflow: hidden;">
                    <img src="{{ $finalImg }}" style="width: 100%; height: 200px; object-fit: cover; transition: transform 0.5s ease;">
                </a>
                
                <div style="padding: 25px;">
                    {{/* This matches the style where your file got cut off */}}
                    <h3 style="margin: 0 0 10px 0; font-size: 1.1rem; line-height: 1.4; height: 3.2em; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                        <a href="{{ .Permalink }}" style="
