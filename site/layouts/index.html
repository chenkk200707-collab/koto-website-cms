{{ define "main" }}
<style>
    /* === 1. æ ¸å¿ƒé…è‰²ä¸åŸºç¡€æ ·å¼ (ä¿ç•™åŸç‰ˆç¾æ„Ÿ) === */
    :root {
        --primary: #C41E3A; 
        --secondary: #2C3E50;
        --bg: #FFFFFF;
        --light-gray: #F5F7FA;
    }

    /* === 2. Hero åŒºåŸŸ (æ¢å¤äº†å¤§å›¾å’Œæ–‡å­—å¸ƒå±€) === */
    .hero-section {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 80px 10%;
        background-color: var(--light-gray);
        min-height: 500px;
    }
    .hero-text { flex: 1; padding-right: 50px; }
    .hero-text h1 { 
        font-size: 3.5rem; 
        color: var(--secondary); 
        margin-bottom: 20px; 
        line-height: 1.1; 
        font-weight: 800;
    }
    /* é€‚é…ç§»åŠ¨ç«¯ */
    @media (max-width: 768px) {
        .hero-section { flex-direction: column; text-align: center; padding: 60px 20px; }
        .hero-text { padding-right: 0; margin-bottom: 40px; }
        .hero-image img { width: 80% !important; margin: 0 auto; }
    }
    .hero-image img { width: 550px; max-width: 100%; height: auto; }

    /* æŒ‰é’®æ ·å¼ */
    .cta-button {
        background-color: var(--primary);
        color: white;
        padding: 18px 40px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: bold;
        font-size: 1.1rem;
        display: inline-block;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 15px rgba(196, 30, 58, 0.3);
    }
    .cta-button:hover { 
        transform: translateY(-3px); 
        box-shadow: 0 8px 25px rgba(196, 30, 58, 0.4);
    }

    /* === 3. æœåŠ¡å¡ç‰‡ (æ¢å¤åŸç‰ˆ Grid) === */
    .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 40px;
        padding: 80px 10%;
        background: white;
    }
    .service-card {
        padding: 30px;
        border-radius: 20px;
        background: white;
        border: 1px solid #f0f0f0;
        text-align: center;
        transition: 0.3s;
    }
    .service-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.08);
    }
    .service-card img { width: 70px; margin-bottom: 20px; }
    .service-card h3 { color: var(--secondary); margin-bottom: 10px; }
    .service-card p { color: #666; font-size: 0.9rem; }

    /* === 4. æœ€æ–°æ–‡ç«  (é‡ç‚¹ä¿®æ”¹ï¼šå·¦å³æ»‘åŠ¨ + æ˜¾ç¤ºæ—¶é—´) === */
    .latest-news-section {
        padding: 60px 0 80px 10%; /* å·¦ä¾§ç•™ç™½å¯¹é½ï¼Œå³ä¾§æ— é™å»¶ä¼¸ */
        background: #fafafa;
        overflow: hidden; /* é˜²æ­¢é¡µé¢è¢«æ’‘å¼€ */
    }
    
    .news-slider-container {
        display: flex; /* å…³é”®ï¼šæ¨ªå‘æ’åˆ— */
        overflow-x: auto; /* å…³é”®ï¼šå…è®¸æ¨ªå‘æ»šåŠ¨ */
        gap: 30px;
        padding-bottom: 20px; /* ç»™æ»šåŠ¨æ¡ç•™ä½ç½® */
        padding-right: 20px;
        scroll-snap-type: x mandatory; /* é¡ºæ»‘å¸é™„æ•ˆæœ */
        -webkit-overflow-scrolling: touch;
    }

    /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ (å¯é€‰ï¼Œå¦‚æœæƒ³å®Œå…¨éšè—æ»šåŠ¨æ¡å¯åŠ  display:none) */
    .news-slider-container::-webkit-scrollbar { height: 6px; }
    .news-slider-container::-webkit-scrollbar-thumb { background: #ddd; border-radius: 3px; }

    .news-card-slide {
        min-width: 300px; /* å›ºå®šå®½åº¦ï¼Œç¡®ä¿èƒ½æ¨ªå‘æ»‘ */
        max-width: 300px;
        flex: 0 0 auto;   /* ç¦æ­¢å‹ç¼© */
        scroll-snap-align: start;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        transition: transform 0.3s;
        display: flex;
        flex-direction: column;
    }
    .news-card-slide:hover { transform: translateY(-5px); }

    .date-badge {
        font-size: 0.85rem;
        color: #888;
        margin-bottom: 8px;
        display: block;
        font-weight: 600;
    }
</style>

<section class="hero-section">
    <div class="hero-text">
        <h1>Expert Guidance for<br>Your Canadian Journey</h1>
        <p style="font-size: 1.2rem; color: #555; margin-bottom: 40px; max-width: 500px;">
            åŸºäºå®˜æ–¹ CRS æ ‡å‡†çš„ç²¾å‡†è§„åˆ’ã€‚ä»ç•™å­¦åˆ°ç§»æ°‘ï¼Œæˆ‘ä»¬ä¸ºæ‚¨å®šåˆ¶æœ€ä¼˜è·¯å¾„ã€‚
        </p>
        <a href="/assessment" class="cta-button">Start Free Assessment &rarr;</a>
    </div>
    <div class="hero-image">
        <img src="/images/hero.png" alt="Consultant" onerror="this.style.display='none'">
    </div>
</section>

<section class="services-grid">
    <div class="service-card">
        <img src="/images/icon-english.png" alt="Icon" onerror="this.src='https://via.placeholder.com/60'">
        <h3>é›…æ€/æ€åŸ¹æåˆ†</h3>
        <p>åå¸ˆä¸€å¯¹ä¸€ç²¾å‡†æŒ‡å¯¼ï¼Œé’ˆå¯¹æ€§çªç ´å£è¯­å†™ä½œç“¶é¢ˆã€‚</p>
    </div>
    <div class="service-card">
        <img src="/images/icon-study.png" alt="Icon" onerror="this.src='https://via.placeholder.com/60'">
        <h3>ç¾åŠ ç•™å­¦è§„åˆ’</h3>
        <p>ä»å°å­¦åˆ°åšå£«çš„å…¨é¾„æ®µç”³è¯·æœåŠ¡ï¼Œé¡¶å°–åæ ¡æ–‡ä¹¦å®šåˆ¶ã€‚</p>
    </div>
    <div class="service-card">
        <img src="/images/icon-ca.png" alt="Icon" onerror="this.src='https://via.placeholder.com/60'">
        <h3>åŠ æ‹¿å¤§ç§»æ°‘</h3>
        <p>å¿«é€Ÿé€šé“ (Express Entry)ã€çœæå (PNP) å…¨ç±»åˆ«åŠç†ã€‚</p>
    </div>
    <div class="service-card">
        <img src="/images/icon-us.png" alt="Icon" onerror="this.src='https://via.placeholder.com/60'">
        <h3>ç¾å›½ç§»æ°‘</h3>
        <p>æ°å‡ºäººæ‰ (EB-1)ã€NIW åŠè·¨å›½é«˜ç®¡ç§»æ°‘ä¸“ä¸šå’¨è¯¢ã€‚</p>
    </div>
</section>

<section class="latest-news-section">
    <h2 style="color: var(--secondary); margin-bottom: 30px;">Latest Stories</h2>
    
    <div class="news-slider-container">
        {{ range first 10 .Site.RegularPages }}
        <div class="news-card-slide">
            
            {{ $image := .Resources.GetMatch .Params.image }}
            {{ if $image }}
                <img src="{{ $image.RelPermalink }}" style="height: 180px; width: 100%; object-fit: cover;">
            {{ else }}
                <div style="height: 180px; width: 100%; background: #eee; display:flex; align-items:center; justify-content:center; color:#ccc;">No Image</div>
            {{ end }}

            <div style="padding: 20px; flex: 1; display: flex; flex-direction: column;">
                
                <span class="date-badge">ğŸ“… {{ .Date.Format "Jan 2, 2006" }}</span>

                <h3 style="margin: 0 0 10px 0; font-size: 1.1rem; line-height: 1.4;">
                    <a href="{{ .Permalink }}" style="color: var(--secondary); text-decoration: none;">
                        {{ .Title }}
                    </a>
                </h3>
                
                <p style="font-size: 0.9rem; color: #666; flex: 1; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;">
                    {{ .Summary | truncate 80 }}
                </p>

                <a href="{{ .Permalink }}" style="color: var(--primary); font-weight: bold; font-size: 0.9rem; margin-top: 15px; text-decoration: none;">
                    Read More &rarr;
                </a>
            </div>
        </div>
        {{ end }}
    </div>
</section>

{{ end }}
