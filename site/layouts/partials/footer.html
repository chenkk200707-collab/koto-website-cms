<footer style="background-color: #f8f9fa; padding: 60px 20px; border-top: 1px solid #eee; margin-top: 60px;">
    <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 40px;">
        
        <div>
            <h3 style="color: #2C3E50; margin-bottom: 20px; font-weight: bold;">快速导航</h3>
            <ul style="list-style: none; padding: 0; line-height: 2.2;">
                <li><a href="/" style="color: #666; text-decoration: none;">回到首页 (Home)</a></li>
                <li><a href="/assessment" style="color: #C41E3A; font-weight: bold; text-decoration: none;">CRS 算分器 (免费评估)</a></li>
                <li><a href="/study/" style="color: #C41E3A; text-decoration: none;">加拿大留学规划</a></li>
                <li><a href="/canada/" style="color: #C41E3A; text-decoration: none;">加拿大移民项目</a></li>
            </ul>
        </div>

        <div>
            <h3 style="color: #2C3E50; margin-bottom: 20px; font-weight: bold;">联系我们</h3>
            <div style="display: flex; gap: 15px; align-items: center;">
                <img src="/images/qrcode.png" style="width: 110px; height: 110px; border-radius: 8px; border: 1px solid #eee; background: white;">
                <div style="font-size: 0.9rem; color: #666; line-height: 1.6;">
                    <p style="margin: 0 0 5px 0; font-weight: bold; color: #333;">扫码添加顾问</p>
                    <p style="margin: 0;">一对一免费评估</p>
                    <p style="margin: 5px 0 0 0; color: #C41E3A; font-weight: bold;">微信号: kotokelly</p>
                </div>
            </div>
            </div>

        <div>
            <h3 style="color: #2C3E50; margin-bottom: 20px; font-weight: bold;">关注我们</h3>
            <div style="background: white; padding: 25px; border-radius: 12px; border: 1px solid #eee; box-shadow: 0 5px 15px rgba(0,0,0,0.03);">
                <p style="margin: 0 0 10px 0; color: #888; font-size: 0.9rem;">全网同名搜索：</p>
                <h4 style="margin: 0 0 10px 0; color: #C41E3A; font-size: 1.3rem; font-weight: 800;">KOTO移民留学</h4>
                <p style="margin: 0; color: #999; font-size: 0.85rem;">认准 KOTO 红黑 Logo</p>
            </div>
        </div>
    </div>
    <div style="text-align: center; margin-top: 60px; border-top: 1px solid #e0e0e0; padding-top: 30px; color: #999; font-size: 0.85rem;">
        &copy; 2025 KOTO Education & Immigration Inc. All Rights Reserved.
    </div>
</footer>

<div id="globalModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 2147483647; align-items: center; justify-content: center; backdrop-filter: blur(5px);">
    <div style="background: white; padding: 40px; border-radius: 20px; text-align: center; max-width: 380px; width: 90%; position: relative; box-shadow: 0 25px 50px rgba(0,0,0,0.25);">
        
        <span onclick="closeGlobalModal()" style="position: absolute; top: 15px; right: 20px; font-size: 28px; cursor: pointer; color: #ccc; transition: 0.2s;">&times;</span>
        
        <h3 style="margin-bottom: 10px; color: #2C3E50; font-weight: bold;">联系 KOTO</h3>
        <p style="color: #666; margin-bottom: 25px; font-size: 0.95rem;">您正在咨询：<br><span id="modalServiceName" style="color: #C41E3A; font-weight: bold; font-size: 1.1rem; margin-top: 5px; display:inline-block;">移民留学规划</span></p>
        
        <img src="/images/qrcode.png" style="width: 160px; height: 160px; margin-bottom: 20px; border-radius: 8px; background: white;">
        
        <p style="font-size: 0.9rem; color: #888; margin-bottom: 12px;">点击下方按钮复制微信号</p>
        
        <div onclick="copyWeChat()" style="background: #f7f9fc; padding: 15px; border-radius: 50px; cursor: pointer; font-weight: bold; color: #333; display: flex; align-items: center; justify-content: center; gap: 10px; border: 1px solid #eee;">
            <span style="font-size: 1.1rem; font-family: monospace;">kotokelly</span> 
            <span style="background: #C41E3A; color: white; font-size: 0.7rem; padding: 2px 6px; border-radius: 4px;">复制</span>
        </div>
        
        <div id="copyToast" style="display: none; color: #27ae60; font-weight: bold; font-size: 0.9rem; margin-top: 15px;">✅ 已复制！请去微信添加</div>
    </div>
</div>

<script>
    function openGlobalModal(service) {
        // 如果传入了 service 就用传入的，否则用默认值
        const sName = service ? service : "移民留学规划";
        document.getElementById('modalServiceName').innerText = sName;
        document.getElementById('globalModal').style.display = 'flex';
    }
    
    function closeGlobalModal() {
        document.getElementById('globalModal').style.display = 'none';
    }
    
    function copyWeChat() {
        const text = "kotokelly";
        if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(() => showToast(), () => fallbackCopy(text));
        } else {
            fallbackCopy(text);
        }
    }
    
    function fallbackCopy(text) {
        var textArea = document.createElement("textarea");
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        try { document.execCommand('copy'); showToast(); } catch (err) { alert('复制失败，微信号：' + text); }
        document.body.removeChild(textArea);
    }

    function showToast() {
        const toast = document.getElementById('copyToast');
        toast.style.display = 'block';
        setTimeout(() => { toast.style.display = 'none'; }, 3000);
    }
    
    window.onclick = function(event) {
        if (event.target == document.getElementById('globalModal')) closeGlobalModal();
    }
</script>
