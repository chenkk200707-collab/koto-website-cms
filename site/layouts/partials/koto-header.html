<style>
    /* === åŸºç¡€è®¾ç½® === */
    header:not(.koto-main-nav), nav:not(.koto-main-nav), .site-header, #header, .navbar, .top-bar { display: none !important; }
    
    body { 
        margin: 0; padding: 0; 
        padding-top: 90px; /* ç•™å‡ºé¡¶éƒ¨ç©ºé—´ */
        background-color: #fff; 
        font-family: -apple-system, BlinkMacSystemFont, "Microsoft YaHei", sans-serif; 
    }
    
    :root { --k-red: #C41E3A; --k-dark: #2C3E50; }
    
    /* === å¯¼èˆªæ å®¹å™¨ === */
    .koto-main-nav { 
        background-color: white; 
        height: 80px; 
        padding: 0 5%; 
        display: flex !important; 
        justify-content: space-between; 
        align-items: center; 
        box-shadow: 0 4px 10px rgba(0,0,0,0.05); 
        position: fixed; 
        top: 0; left: 0; width: 100%; 
        z-index: 99999; 
        box-sizing: border-box; 
    }
    
    /* === Logo åŒºåŸŸ === */
    .nav-logo { height: 100%; display: flex; align-items: center; z-index: 100001; }
    .nav-logo a { height: 50px; display: block; }
    .nav-logo img { height: 100%; width: auto; max-width: 180px; object-fit: contain; display: block; }
    
    /* === èœå•é“¾æ¥åŒºåŸŸ (ç”µè„‘ç‰ˆ) === */
    .nav-links { display: flex; gap: 25px; align-items: center; }
    
    .nav-item { 
        font-size: 16px; font-weight: 800; color: var(--k-dark); 
        padding: 10px 0; cursor: pointer; text-decoration: none; 
        background: none; border: none; font-family: inherit; position: relative; 
    }
    .nav-item::after { 
        content: ''; position: absolute; width: 0%; height: 3px; 
        bottom: 0; left: 0; background-color: var(--k-red); 
        transition: width 0.3s ease; 
    }
    .nav-item:hover { color: var(--k-red); }
    .nav-item:hover::after { width: 100%; }
    
    /* å…è´¹è¯„ä¼°æŒ‰é’® (æµ…çº¢èƒŒæ™¯) */
    .free-assess-btn { 
        display: flex; align-items: center; gap: 5px; 
        color: var(--k-red) !important; background-color: #fff0f0; 
        padding: 8px 15px !important; border-radius: 8px; 
        transition: all 0.2s; 
    }
    .free-assess-btn:hover { background-color: #ffe0e0; transform: translateY(-2px); }
    .free-assess-btn::after { display: none; }
    
    /* é¢„çº¦å’¨è¯¢æŒ‰é’® (æ·±çº¢å®å¿ƒ) */
    .nav-btn-cta { 
        background-color: var(--k-red); color: white !important; 
        padding: 10px 25px; border-radius: 50px; 
        font-weight: 800; font-size: 16px; 
        box-shadow: 0 4px 12px rgba(196, 30, 58, 0.3); 
        text-decoration: none; white-space: nowrap; 
        transition: transform 0.2s; cursor: pointer; border: none;
    }
    .nav-btn-cta:hover { transform: scale(1.05); background-color: #a01830; }

    /* === æ±‰å ¡èœå•å›¾æ ‡ (é»˜è®¤éšè—ï¼Œä»…æ‰‹æœºæ˜¾ç¤º) === */
    .koto-hamburger {
        display: none; /* ç”µè„‘ç«¯éšè— */
        font-size: 28px; cursor: pointer; color: var(--k-dark);
        z-index: 100001; user-select: none;
    }

    /* === ğŸ“± æ‰‹æœºç«¯é€‚é… (å±å¹•å®½åº¦ < 900px) === */
    @media (max-width: 900px) {
        .koto-hamburger { display: block; } /* æ˜¾ç¤ºæ±‰å ¡å›¾æ ‡ */
        
        .nav-links {
            display: none; /* é»˜è®¤éšè—èœå• */
            position: absolute; top: 80px; left: 0; width: 100%;
            background-color: white;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            padding: 20px 0 40px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border-top: 1px solid #f0f0f0;
        }
        
        /* èœå•å±•å¼€çŠ¶æ€ */
        .nav-links.active { display: flex; }
        
        /* æ‰‹æœºç«¯èœå•é¡¹æ ·å¼è°ƒæ•´ */
        .nav-item { 
            width: 100%; text-align: center; padding: 15px 0; 
            font-size: 18px; border-bottom: 1px solid #f9f9f9;
        }
        .nav-item::after { display: none; } /* å»æ‰ä¸‹åˆ’çº¿åŠ¨ç”» */
        
        .free-assess-btn { 
            background: none; width: 100%; justify-content: center; 
            font-size: 18px; margin-top: 10px;
        }
        
        .nav-btn-cta { margin-top: 20px; width: 80%; text-align: center; }
    }
</style>

<nav class="koto-main-nav">
    <div class="nav-logo">
        <a href="/">
            <img src="/images/logo-koto.png" alt="KOTO Logo">
        </a>
    </div>
    
    <div class="koto-hamburger" onclick="toggleMobileMenu()">â˜°</div>
    
    <div class="nav-links" id="kotoNavLinks">
        <a href="/capsules/" class="nav-item">è‹±è¯­èƒ¶å›Š</a>
        <a href="/study/" class="nav-item">åŒ—ç¾ç•™å­¦</a>
        <a href="/canada/" class="nav-item">åŠ æ‹¿å¤§ç§»æ°‘</a>
        
        <button onclick="openGlobalModal('ç¾å›½ç§»æ°‘è§„åˆ’'); toggleMobileMenu()" class="nav-item">ç¾å›½ç§»æ°‘</button>
        
        <a href="/cases/" class="nav-item">æˆåŠŸæ¡ˆä¾‹</a>
        <a href="/assessment/" class="nav-item free-assess-btn">âš¡ å…è´¹è¯„ä¼°</a>

        <a href="javascript:void(0)" class="nav-btn-cta" onclick="openGlobalModal('é€šç”¨å’¨è¯¢'); toggleMobileMenu()">é¢„çº¦å’¨è¯¢</a>
    </div>
</nav>

<script>
    // åˆ‡æ¢æ‰‹æœºèœå•æ˜¾ç¤º/éšè—
    function toggleMobileMenu() {
        const nav = document.getElementById('kotoNavLinks');
        const hamburger = document.querySelector('.koto-hamburger');
        
        if (nav.classList.contains('active')) {
            nav.classList.remove('active');
            hamburger.innerHTML = "â˜°"; // æ¢å¤ä¸‰é“æ 
        } else {
            nav.classList.add('active');
            hamburger.innerHTML = "âœ•"; // å˜æˆå‰å·
        }
    }
</script>
